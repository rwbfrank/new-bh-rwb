!function(e){"use strict";function t(){"console"in window&&console.log.apply(console,arguments)}function a(){"console"in window&&console.warn.apply(console,arguments)}function i(t,a){e('<div id="fw-alert" style="background-color:'+(a?"#4caf50":"#f44336")+'">'+t+"</div>").hide().appendTo("#wpbody-content").slideDown().delay(3e3).slideUp()}function l(e){var t='<div class="fw-radio-option-element" data-type="header"><label>'+wizard.i18n.label+"</label>";return t+='<input type="text" class="fw-radio-header fw-block-label" value="'+e+'"></input>',t+="</div>"}function r(e,t){var a='<div class="fw-radio-option-element" data-type="option">';return a+='<input type="text" class="fw-radio-option" placeholder="'+wizard.i18n.radio.option+" "+t+'" value="'+e+'"></input>',a+='<div class="fw-remove-radio-option"><i class="fa fa-minus-circle" aria-hidden="true"></i></div></div>'}function n(e){t("block",e);var a='<div class="fw-step-block" data-type="'+e.type+'" >';switch(a+='<div class="fw-block-controls">',a+='<i class="fa fa-remove fw-remove-block" title="'+wizard.i18n.tooltips.removeBlock+'" aria-hidden="true"></i>',a+='<i class="fa fa-caret-up fw-toggle-block" aria-hidden="true"></i>',a+="</div>",a+=function(e){var t='<div class="fw-block-action fw-block-hndle">';return t+='<i class="fa fa-arrows fw-move-block fw-block-hndle" aria-hidden="true"></i>',t+="<h4>"+e+"</h4>",t+="</div>"}(e.type),a+='<div class="fw-block-fields">',e.type){case"radio":e.elements||(e.elements=[{type:"header",value:""},{type:"option",value:""}]),a+=function(e){t("radio",e);var a,i,n,o=0,s="";for(s+='<div class="fw-radio-option-container">',a=0,i=e.elements.length;a<i;a++)t("element",n=e.elements[a]),"option"===n.type?(1==a&&(s+="<label>"+wizard.i18n.radio.options+"</label>"),s+=r(n.value,1+o++)):s+=l(n.value);return s+="</div>",s+='<button class="fw-radio-add"><i class="fa fa-plus" aria-hidden="true"></i> '+wizard.i18n.radio.addOption+"</button><br/>",s+='<label><input type="checkbox" class="fw-required"'+g(e.required)+"/> "+wizard.i18n.required+"</label>","true"==e.multichoice?s+='<label><input type="checkbox" class="fw-radio-multichoice" checked/>'+wizard.i18n.radio.multiple+' <i class="fa fa-info-circle" aria-hidden="true" title="'+wizard.i18n.tooltips.multiChoice+'"></i></label>':s+='<label><input type="checkbox" class="fw-radio-multichoice"/>'+wizard.i18n.radio.multiple+' <i class="fa fa-info-circle" aria-hidden="true" title="'+wizard.i18n.tooltips.multiChoice+'"></i></label>',s}(e);break;case"select":e.elements||(e.elements=[]),a+=function(e){t("select",e);var a=0,i="",l=wizard.i18n.select.placeholder?wizard.i18n.select.placeholder:"";for(i+='<div class="fw-select-option-container">',i+="<label>"+wizard.i18n.label+"</label>",i+='<input type="text" class="fw-block-label" value="'+e.label+'"></input>',i+="<label>"+l+"</label>",i+='<input type="text" class="fw-select-placeholder" value="'+e.placeholder+'"></input>',i+="<label>"+wizard.i18n.select.options+"</label>",i+='<textarea class="fw-select-options" rows="4" cols="50">',a=0;a<e.elements.length;a++)i+=e.elements[a]+"\n";return i+="</textarea>",i+="</div>",i+='<label><input type="checkbox" class="fw-select-search"'+g(e.search)+"/>"+wizard.i18n.select.search+"</label>",i+='<label><input type="checkbox" class="fw-required"'+g(e.required)+"/> "+wizard.i18n.required+"</label>"}(e);break;case"checkbox":a+=function(e){t("checkbox",e);var a="";return a+="<label>"+wizard.i18n.label+"</label>",a+='<input type="text" class="fw-text-label fw-block-label" placeholder="'+wizard.i18n.label+'" value="'+e.label+'"></input><br/>',a+='<label><input type="checkbox" class="fw-required"'+g(e.required)+"/>"+wizard.i18n.required+"</label>"}(e);break;case"text":a+=function(e){t("textInput",e);var a="";return a+="<label>"+wizard.i18n.label+"</label>",a+='<input type="text" class="fw-text-label fw-block-label" placeholder="'+wizard.i18n.label+'" value="'+e.label+'"></input><br/>',a+='<label><input type="checkbox" class="fw-required"'+g(e.required)+"/>"+wizard.i18n.required+"</label>"}(e);break;case"email":a+=function(e){var t="";return t+="<label>"+wizard.i18n.label+"</label>",t+='<input type="text" class="fw-text-label fw-block-label" placeholder="'+wizard.i18n.label+'" value="'+e.label+'"></input><br/>',t+='<label><input type="checkbox" class="fw-required"'+g(e.required)+"/>"+wizard.i18n.required+"</label>"}(e);break;case"file":a+=function(e){var t="";return t+="<label>"+wizard.i18n.label+"</label>",t+='<input type="text" class="fw-text-label fw-block-label" placeholder="'+wizard.i18n.label+'" value="'+e.label+'"></input><br/>',t+='<label><input type="checkbox" class="fw-file-multi"'+g(e.multi)+"/>"+wizard.i18n.multifile+"</label>",t+='<label><input type="checkbox" class="fw-required"'+g(e.required)+"/>"+wizard.i18n.required+"</label>"}(e);break;case"date":a+=function(e){var t="";return t+="<label>"+wizard.i18n.label+"</label>",t+='<input type="text" class="fw-text-label fw-block-label" placeholder="'+wizard.i18n.label+'" value="'+e.label+'"></input><br/>',t+="<label>"+wizard.i18n.dateformat+'<a target="_blank" href="http://t1m0n.name/air-datepicker/docs/#sub-section-9"><i class="fa fa-info-circle" aria-hidden="true" title="'+wizard.i18n.tooltips.dateformat+'"></i></a></label>',t+='<input type="text" class="fw-date-format fw-block-label" placeholder="'+wizard.i18n.dateformat+'" value="'+(e.format?e.format:"yy-mm-dd")+'" ></input><br/>',t+='<label><input type="checkbox" class="fw-required"'+g(e.required)+"/>"+wizard.i18n.required+"</label>"}(e);break;case"textarea":a+=function(e){t("textArea",e);var a="";return a+="<label>"+wizard.i18n.label+"</label>",a+='<input type="text" class="fw-textarea-label fw-block-label" placeholder="'+wizard.i18n.label+'" value="'+e.label+'"></input><br/>',a+='<label><input type="checkbox" class="fw-required"'+g(e.required)+"/>"+wizard.i18n.required+"</label>"}(e);break;case"paragraph":a+=function(e){var t="";return t+="<label>"+wizard.i18n.paragraph.textHtml+' <i class="fa fa-info-circle" aria-hidden="true" title="'+wizard.i18n.tooltips.paragraph+'"></i></label>',t+='<textarea class="fw-paragraph-text fw-block-label" placeholder="'+wizard.i18n.paragraph.text+'">'+(e.text?e.text:"")+"</textarea>"}(e);break;case"registration":a+=function(e){var t="";return t+='<label><input type="checkbox" class="fw-required"'+g(e.required)+"/>"+wizard.i18n.required+"</label>",t+='<p class="msfp-registration-info">'+wizard.i18n.registration.info+"</p>",t+='<label class="msfp-registration-option"><input type="checkbox" class="msfp-registration-email" checked disabled="disabled"/>'+wizard.i18n.registration.email+"</label>",t+='<label class="msfp-registration-option"><input type="checkbox" class="msfp-registration-username" checked disabled="disabled"/>'+wizard.i18n.registration.username+"</label>",t+='<label class="msfp-registration-option"><input type="checkbox" class="msfp-registration-password"'+g(e.password)+"/>"+wizard.i18n.registration.password+"</label>",t+='<label class="msfp-registration-option"><input type="checkbox" class="msfp-registration-firstname"'+g(e.firstname)+"/>"+wizard.i18n.registration.firstname+"</label>",t+='<label class="msfp-registration-option"><input type="checkbox" class="msfp-registration-lastname"'+g(e.lastname)+"/>"+wizard.i18n.registration.lastname+"</label>",t+='<label class="msfp-registration-option"><input type="checkbox" class="msfp-registration-website"'+g(e.website)+"/>"+wizard.i18n.registration.website+"</label>",t+='<label class="msfp-registration-option"><input type="checkbox" class="msfp-registration-bio"'+g(e.bio)+"/>"+wizard.i18n.registration.bio+"</label>"}(e)}return a+="</div>",a+='<div class="fw-clearfix"></div>',a+="</div>"}function o(e,a){t("part",e);var i='<div class="'+a+'">';return i+='<div class="fw-section-hndle"><i class="fa fa-arrows"></i></div>',i+='<input type="text" class="fw-part-title" value="'+e.title+'" placeholder="'+wizard.i18n.partTitle+'"></input>',i+='<div class="fw-remove-part" title="'+wizard.i18n.removeSection+'">',i+='<i class="fa fa-remove"></i>',i+='</div><div class="inside connectedSortable">',i+=function(e){var t,a,i="";for(t=0,a=e.length;t<a;t++)if("conditional"==e[t].type){i+=n(e[t].block);var l={prec_block_id:e[t].prec_block_id,prec_operator:e[t].prec_operator,prec_value:e[t].prec_value,visible:e[t].visible};i+='<input class="msf-block-meta" name="msf-block-meta-'+t+'" type="hidden" value="'+encodeURI(JSON.stringify(l))+'">'}else i+=n(e[t]);return i}(e.blocks),i+='</div><div class="fw-add-element">',i+='<a href="#TB_inline?width=400&height=200&inlineId=fw-thickbox-content" class="thickbox"><i class="fa fa-plus"></i> '+wizard.i18n.addElement+"</a>",i+="</div>",i+="</div>"}function s(e,t){var a="fw-headline-"+t,i="fw-copy-text-"+t,l='<div class="fw-step"><div class="form-wrap">';return l+='<div class="input form-field">',l+='<label for="'+("fw-title-"+t)+'"><b>'+wizard.i18n.title+"</b>",l+='<i class="fa fa-info-circle" aria-hidden="true" title="'+wizard.i18n.tooltips.title+'"></i></label>',l+='<input type="text" class="fw-step-title" value="'+e.title+'"></input>',l+="</div>",l+='<div class="input form-field">',l+='<label for="'+a+'"><b>'+wizard.i18n.headline+"</b>",l+='<i class="fa fa-info-circle" aria-hidden="true" title="'+wizard.i18n.tooltips.headline+'"></i></label>',l+='<input type="text" class="fw-step-headline" value="'+e.headline+'"></input>',l+="</div>",l+='<div class="input form-field">',l+='<label for="'+i+'"><b>'+wizard.i18n.copyText+"</b>",l+='<i class="fa fa-info-circle" aria-hidden="true" title="'+wizard.i18n.copyText+'"></i></label>',l+='<input type="text" class="fw-step-copy_text" value="'+e.copy_text+'"></input>',l+="</div>",l+='<div class="fw-step-parts">'+function(e){var t,a=e.length,i='<div><div class="fw-parts-header"><h3>Sections</h3></div>';for(i+='<div class="fw-column-buttons">',i+='<button type="button" class="fw-button-one-column"><i class="fa fa-align-justify"></i></button>',i+='<button type="button" class="fw-button-two-columns"><i class="fa fa-align-justify"></i> <i class="fa fa-align-justify"></i></button>',i+="</div>",i+='<div class="fw-parts-container">',t=0,a=e.length;t<a;t++)i+=o(e[t],"fw-step-part");return i+="</div>",i+='<div class="fw-parts-footer">',i+='<a class="fw-add-part"><i class="fa fa-plus"></i> '+wizard.i18n.addSection+"</a>",i+="</div>",i+="</div>"}(e.parts)+"</div>",l+='</div><div class="fw-clearfix"></div></div>'}function c(e){var t='<div class="postbox">';return t+='<div class="fw-movediv hndle ui-sortable-handle"><i class="fa fa-arrows"></i></div>',t+='<h1 class="fw-step-h1 hndle ui-sortable-handle"><span>',t+=e.title+"</span></h1>",t+='<div class="fw-step-controls">',t+='<i class="fa fa-remove fw-remove-step" title="'+wizard.i18n.tooltips.removeStep+'" aria-hidden="true"></i>',t+='<i class="fa fa-caret-up fw-toggle-step" aria-hidden="true"></i>',t+='<i class="fa fa-files-o fw-duplicate-step" title="duplicate step" aria-hidden="true"></i>',t+="</div>",t+='<div class="fw-clearfix"></div>',t+=s(e),t+='<div class="fw-clearfix"></div>',t+="</div>"}function d(t){var a={};switch(a.type=t.attr("data-type")){case"radio":!function(t,a){var i=a.elements=[];t.find(".fw-radio-option-element").each(function(t,a){i.push(function(e){var t={},a=t.type=e.attr("data-type");return"option"===a?t.value=e.find(".fw-radio-option").val():"header"===a&&(t.value=e.find(".fw-radio-header").val()),t}(e(a)))}),a.required=t.find(".fw-required").prop("checked"),a.multichoice=t.find(".fw-radio-multichoice").prop("checked")}(t,a);break;case"select":!function(e,t){var a=e.find(".fw-select-options").val().split("\n");t.required=e.find(".fw-required").prop("checked"),t.search=e.find(".fw-select-search").prop("checked"),t.label=e.find(".fw-block-label").val(),t.placeholder=e.find(".fw-select-placeholder").val(),t.elements=a.filter(function(e){return""!==e&&" "!==e})}(t,a);break;case"checkbox":!function(e,t){t.label=e.find(".fw-text-label").val(),t.required=e.find(".fw-required").prop("checked")}(t,a);break;case"text":case"email":!function(e,t){t.label=e.find(".fw-text-label").val(),t.required=e.find(".fw-required").prop("checked")}(t,a);break;case"file":!function(e,t){t.label=e.find(".fw-text-label").val(),t.required=e.find(".fw-required").prop("checked"),t.multi=e.find(".fw-file-multi").prop("checked")}(t,a);break;case"date":!function(e,t){t.label=e.find(".fw-text-label").val(),t.format=e.find(".fw-date-format").val(),t.required=e.find(".fw-required").prop("checked")}(t,a);break;case"textarea":!function(e,t){t.label=e.find(".fw-textarea-label").val(),t.required=e.find(".fw-required").prop("checked")}(t,a);break;case"paragraph":!function(e,t){t.text=e.find(".fw-paragraph-text").val()}(t,a);break;case"registration":!function(e,t){t.required=e.find(".fw-required").prop("checked"),t.password=e.find(".msfp-registration-password").prop("checked"),t.firstname=e.find(".msfp-registration-firstname").prop("checked"),t.lastname=e.find(".msfp-registration-lastname").prop("checked"),t.website=e.find(".msfp-registration-website").prop("checked"),t.bio=e.find(".msfp-registration-bio").prop("checked")}(t,a)}return a}function f(t){var a={};a.title=t.find(".fw-part-title").val();var i=a.blocks=[];return t.find(".fw-step-block").each(function(t,a){var l=e(a);l.find(".msfp-conditional").prop("checked")?i.push(function(e){var t={};return t.type="conditional",t.visible=e.find(".msfp-conditional-visible").val(),t.prec_block_id=e.find(".msfp-conditional-prec-block-id").val(),t.prec_operator=e.find(".msfp-conditional-prec-op").val(),t.prec_value=e.find(".msfp-conditional-prec-value").val(),t.block=d(e),t}(l)):i.push(d(l))}),a}function p(t){var a={};a.title=t.find(".fw-step-title").val(),a.headline=t.find(".fw-step-headline").val(),a.copy_text=t.find(".fw-step-copy_text").val();var i=a.parts=[];return t.find(".fw-step-part").each(function(t,a){i.push(f(e(a)))}),a}function u(t){var a=!0;return""===t.title?(a=!1,i(wizard.i18n.alerts.noFormTitle,!1)):a=function(e){for(var t=!0,a=0;a<e.length;a++)if(e[a].title)for(var l=0;l<e[a].parts.length;l++){""===e[a].parts[l].title&&(t=!1,i(wizard.i18n.alerts.noSectionTitle,!1));for(var r=0;r<e[a].parts[l].blocks.length;r++)e[a].parts[l].blocks[r]}else t=!1,i(wizard.i18n.alerts.noStepTitle,!1);return t}(t.wizard.steps)&&function(t){var a=!0;return function(e){return!!e&&/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)}(t.to)?t.subject||(a=!1,e("#fw-nav-settings").trigger("click"),i(wizard.i18n.alerts.noSubject,!1)):(a=!1,e("#fw-nav-settings").trigger("click"),i(wizard.i18n.alerts.invalidEmail,!1)),a}(t.wizard.settings),a}function b(){var a=e(C),l=e(".fw-wizard-title").val(),r={wizard:{}};r.wizard.title=l,r.wizard.steps=[],r.wizard.settings=function(){var t={};return t.thankyou=e(".fw-settings-thankyou").val(),t.to=e(".fw-mail-to").val(),t.frommail=e(".fw-mail-from-mail").val(),t.fromname=e(".fw-mail-from-name").val(),t.subject=e(".fw-mail-subject").val(),t.header=e(".fw-mail-header").val(),t}();var n=a.find(".fw-step");n.each(function(t,a){n.length;r.wizard.steps.push(p(e(a)))}),r.wizard.steps.push(),u(r)&&(t("save",r),e.ajax({type:"POST",url:wizard.ajaxurl,dataType:"json",data:{action:"fw_wizard_save",data:r,nonce:wizard.nonce,id:wizard.id},success:function(e){i(e.data.msg,e.success)},error:function(e){t("fail",arguments),t("response",e)}}))}function w(){e(".meta-box-sortables").sortable({opacity:.6,revert:!0,cursor:"move",handle:".hndle",tolerance:"pointer",placeholder:"fw-block-placeholder",start:function(t,a){var i=e(a.item).height();e(".fw-block-placeholder").height(i)},update:function(t,i){a("sortables update",t,i),e(i.item).removeAttr("style"),w(),v()}}),e(".fw-step-part .inside").sortable({opacity:.6,cursor:"move",connectWith:".connectedSortable",handle:".fw-block-hndle",tolerance:"intersect",placeholder:"fw-block-placeholder",revert:100,start:function(t,a){var i=e(a.item).height(),l=e(".fw-block-placholder");l.height(i),l.attr("data-type",a.item.attr("data-type"))},update:function(t,l){a("block sortables update",t,l);var r=e(l.item).attr("data-type");e(l.item).is(".fw-draggable-block")&&("registration"===r&&y()?(i("Only one registration block allowed!",!1),e(l.item).remove()):e(l.item).replaceWith(e(n({type:r,label:""})))),w(),v(),_(),msfp&&setupConditionals()}}),e(".fw-parts-container").sortable({opacity:.6,cursor:"move",connectWith:".fw-parts-container",handle:".fw-section-hndle",tolerance:"intersect",placeholder:"fw-section-placeholder",revert:100,start:function(t,a){var i=e(a.item).height();e(".fw-section-placeholder").height(i)},update:function(e,t){w(),v(),_()}});e(S+" .fw-draggable-block").draggable({connectToSortable:".fw-step-part .inside",revert:"invalid",helper:"clone",cursor:"move"}),e(C).find(".fw-step-title").on("change input",h)}function v(){e(".fa-info-circle").tooltip(),e(".fw-remove-step").tooltip(),e(".fw-duplicate-step").tooltip(),e(".fw-remove-part").tooltip(),e(".fw-remove-block").tooltip(),e(".hndle.ui-sortable-handle").tooltip()}function h(a){var i=e(this);t("titleOnChangeU",i.val()),i.closest(".postbox").find("h1 > span").html(i.val())}function m(a){a.find('.fw-radio-option-element[data-type="option"] > label').each(function(a,i){t("updateOptions",i),e(i).html("Option "+(a+1))})}function k(t){var a=e(".fw-step").length;if(a<5||msfp)if(a<10){var l=e(c(t));l.appendTo(e(C).find(".meta-box-sortables")),_(),w(),q(),a>0&&e("html, body").animate({scrollTop:e(document).height()-l.height()-180},500)}else i(wizard.i18n.alerts.onlyTen,!1);else i(wizard.i18n.alerts.onlyFive,!1)}function g(e){var t="";return"true"==e&&(t="checked"),t}function y(){var t=!1;return e(".fw-step-block").each(function(a,i){"registration"==e(i).attr("data-type")&&(t=!0)}),t}function x(){var t=e(this).closest(".postbox");!0===confirm(wizard.i18n.alerts.reallyDeleteStep)&&t.slideUp(700,function(){t.remove()})}function z(t){var a=e(t.target).closest(".fw-step-part");!0===confirm(wizard.i18n.alerts.reallyDeleteSection)&&a.slideUp(500,function(){a.remove()})}function q(){e(".thickbox").click(function(t){e("#fw-thickbox-radio").unbind("click").click(function(a){tb_remove();var i=e(n({type:"radio"}));e(t.target).parents(".fw-step-part").find(".inside").append(i),_()}),e("#fw-thickbox-select").unbind("click").click(function(a){tb_remove();var i=e(n({type:"select",label:""}));e(t.target).parents(".fw-step-part").find(".inside").append(i),_()}),e("#fw-thickbox-text").unbind("click").click(function(a){tb_remove();var i=e(n({type:"text",label:"",value:""}));e(t.target).parents(".fw-step-part").find(".inside").append(i),_()}),e("#fw-thickbox-email").unbind("click").click(function(a){tb_remove();var i=e(n({type:"email",label:"",value:""}));e(t.target).parents(".fw-step-part").find(".inside").append(i),_()}),e("#fw-thickbox-fileupload").unbind("click").click(function(a){tb_remove();var i=e(n({type:"file",label:"",value:""}));e(t.target).parents(".fw-step-part").find(".inside").append(i),_()}),e("#fw-thickbox-textarea").unbind("click").click(function(a){tb_remove();var i=e(n({type:"textarea",label:"",value:""}));e(t.target).parents(".fw-step-part").find(".inside").append(i),_()}),e("#fw-thickbox-date").unbind("click").click(function(a){tb_remove();var i=e(n({type:"date",label:"",format:"yy-mm-dd"}));e(t.target).parents(".fw-step-part").find(".inside").append(i),_()}),e("#fw-thickbox-paragraph").unbind("click").click(function(a){tb_remove();var i=e(n({type:"paragraph",text:""}));e(t.target).parents(".fw-step-part").find(".inside").append(i),_()}),e("#fw-thickbox-registration").unbind("click").click(function(a){tb_remove();var l=e(n({type:"registration",label:"",value:""})),r=e(t.target).parents(".fw-step-part");y()?i("Only one registration block allowed!",!1):r.find(".inside").append(l),_()})})}function _(){e(".fw-element-step").unbind("click").click(function(e){k({title:"",headline:"",copy_text:"",parts:[{title:"",blocks:[]}]})}),e(".fw-duplicate-step").unbind("click").click(function(t){!function(e){var t=p(e);t.title+=" (COPY)",k(t)}(e(this).parent().parent().find(".fw-step"))}),e(".fw-add-part").unbind("click").click(function(t){!function(t){var a=t.target,i=o({title:"",blocks:[]},"fw-step-part");e(a).closest(".fw-step-parts").find(".fw-parts-container").append(i),e(".fw-remove-part").click(function(e){z(e)}),q()}(t),w()}),e(".fw-toggle-step").unbind("click").click(function(t){e(this).parent().parent().find(".fw-step").slideToggle(),e(this).toggleClass("fw-icon-rotated")}),e(".fw-remove-part").unbind("click").click(function(e){z(e)}),e(".fw-remove-block").unbind("click").click(function(t){!function(t){var a=e(t.target).closest(".fw-step-block"),i=a.find(".fw-block-label").val();!0===confirm(wizard.i18n.alerts.reallyDeleteBlock+"\n\n"+i)&&a.slideUp(300,function(){a.remove()})}(t)}),e(".fw-toggle-block").unbind("click").click(function(t){var a=e(this).parent().parent();if(a.toggleClass("fw-block-collapsed"),a.hasClass("fw-block-collapsed")){var i=a.find(".fw-block-label").val();a.find("h4").text(i),e(this).addClass("fw-icon-rotated")}else{var l=a.data("type");a.find("h4").text(l),e(this).removeClass("fw-icon-rotated")}})}var C="#fw-wizard-container",S="#fw-elements-container";e(document).ready(function(){try{var i=JSON.parse(wizard.json),l=e(C);i.wizard.title?e(".fw-wizard-title").val(i.wizard.title):e(".fw-wizard-title").val("My Multi Step Form"),!function(t){var a,i,l='<div class="postbox-container"><div class="metabox-holder"><div class="meta-box-sortables">';for(a=0,i=t.length;a<i;a++)l+=c(t[a]);l+="</div>",l+='<a class="fw-element-step"><i class="fa fa-plus"></i> '+wizard.i18n.addStep+"</a>",l+="</div></div>",e(C).html(l)}(i.wizard.steps&&i.wizard.steps.length>0?i.wizard.steps:[{title:"",headline:"",copy_text:"",parts:[{title:"",blocks:[]}]}]),function(t){t&&(t.thankyou&&e(".fw-settings-thankyou").val(t.thankyou),t.subject&&e(".fw-mail-subject").val(t.subject),t.to&&e(".fw-mail-to").val(t.to),t.frommail&&e(".fw-mail-from-mail").val(t.frommail),t.fromname&&e(".fw-mail-from-name").val(t.fromname),t.header&&e(".fw-mail-header").val(t.header))}(i.wizard.settings),e(".fw-button-save").click(b),e(window).scroll(function(){var t=e(".nav-tab-wrapper").height()+19;e(this).scrollTop()>t?e(S).addClass("fw-sticky"):e(S).removeClass("fw-sticky")}),l.on("click",".postbox .handlediv",function(){e(this).closest(".postbox").toggleClass("closed")}),l.on("click",".fw-radio-add",function(){var t=e(this).prev(".fw-radio-option-container"),a=r("",t.children(".fw-radio-option-element").length);e(a).appendTo(t),m(t)}),l.on("click",".fw-remove-radio-option",function(){t("remove on click");var a=e(this),i=a.closest(".fw-radio-option-container");a.closest(".fw-radio-option-element").remove(),m(i)}),l.on("click",".fw-remove-step",x),w(),v(),q(),_(),e("#fw-nav-settings").click(function(t){e("#fw-nav-steps").toggleClass("nav-tab-active"),e("#fw-nav-settings").toggleClass("nav-tab-active"),e(C).hide(),e(S).hide(),e(".fw-mail-settings-container").show()}),e("#fw-nav-steps").click(function(t){e("#fw-nav-steps").toggleClass("nav-tab-active"),e("#fw-nav-settings").toggleClass("nav-tab-active"),e(".fw-mail-settings-container").hide(),e(C).show(),e(S).show()}),e("#fw-elements-modal").dialog({dialogClass:"wp-dialog",modal:!0,autoOpen:!1,closeOnEscape:!0,buttons:{Close:function(){e(this).dialog("close")}}})}catch(e){a(e)}})}(jQuery);